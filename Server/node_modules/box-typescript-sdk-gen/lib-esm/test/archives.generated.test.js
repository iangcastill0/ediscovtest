"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.client = exports.userId = void 0;
const utils_js_1 = require("../internal/utils.js");
const utils_js_2 = require("../internal/utils.js");
const commons_generated_js_1 = require("./commons.generated.js");
const utils_js_3 = require("../internal/utils.js");
exports.userId = (0, utils_js_2.getEnvVar)('USER_ID');
exports.client = (0, commons_generated_js_1.getDefaultClientWithUserSubject)(exports.userId);
test('testArchivesCreateListDelete', async function testArchivesCreateListDelete() {
    const archiveName = (0, utils_js_1.getUuid)();
    const archive = await exports.client.archives.createArchiveV2025R0({
        name: archiveName,
    });
    if (!((0, utils_js_3.toString)(archive.type) == 'archive')) {
        throw new Error('Assertion failed');
    }
    if (!(archive.name == archiveName)) {
        throw new Error('Assertion failed');
    }
    const archives = await exports.client.archives.getArchivesV2025R0({
        limit: 100,
    });
    if (!(archives.entries.length > 0)) {
        throw new Error('Assertion failed');
    }
    await exports.client.archives.deleteArchiveByIdV2025R0(archive.id);
    await expect(async () => {
        await exports.client.archives.deleteArchiveByIdV2025R0(archive.id);
    }).rejects.toThrow();
});
//# sourceMappingURL=archives.generated.test.js.map